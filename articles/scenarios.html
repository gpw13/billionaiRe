<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="billionaiRe">
<title>Scenarios • billionaiRe</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Scenarios">
<meta property="og:description" content="billionaiRe">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">billionaiRe</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gpw13/billionaiRe/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Scenarios</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gpw13/billionaiRe/blob/HEAD/vignettes/scenarios.Rmd" class="external-link"><code>vignettes/scenarios.Rmd</code></a></small>
      <div class="d-none name"><code>scenarios.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="definition">Definition<a class="anchor" aria-label="anchor" href="#definition"></a>
</h2>
<p>In the Triple Billions and the billionaiRe package context, scenarios
are understood as alternative, plausible, description of how the future
may develop based on a set of defined assumptions.</p>
<p>Scenarios must:</p>
<ol style="list-style-type: decimal">
<li>Be <a href="https://r4ds.had.co.nz/tidy-data.html" class="external-link">tidy</a>: each
row is a unique combination of iso3 country-code, year, indicator, and
scenario (if relevant).</li>
<li>Contain <strong>all</strong> and <strong>only</strong> the data that
is strictly needed for calculations with billionaiRe</li>
</ol>
<p>Four main sets of scenarios can be identified, from the most basic to
the more complex:</p>
<ol style="list-style-type: decimal">
<li>
<a href="#basic-scenarios">Basic scenarios</a>: Those scenarios are
the building blocks of the other scenarios, but they can also be called
on their own. They can reach a fixed target at a specified year
(<code><a href="../reference/fixed_target.html">scenario_fixed_target()</a></code>), follow a specific rate of change
(<code><a href="../reference/scenario_aroc.html">scenario_aroc()</a></code>), etc. See <a href="data-recycling.html">Basic scenario</a> for more details.</li>
<li>
<a href="#target-scenarios">Target scenarios</a>: Target-based
scenarios apply indicator-specific targets or trajectories to be reached
by a specific date (e.g. Sustainable Development Goal (SDG) targets
(called <code>sdg</code> scenarios)).</li>
<li>
<li>
</ol>
<p>If billionaiRe require data that is missing in the scenario, they
will be recycled from other scenarios (see <a href="data-recycling.html">Data recycling</a>).</p>
</div>
<div class="section level2">
<h2 id="quick-start-how-to-use-billionaire-scenarios">Quick start: How to use billionaiRe scenarios<a class="anchor" aria-label="anchor" href="#quick-start-how-to-use-billionaire-scenarios"></a>
</h2>
<p><code><a href="../reference/add_scenario.html">add_scenario()</a></code> is the entry point function to all other
scenario functions. It essentially allow to pass a typical billionaiRe
data frame (<code>df</code>) and apply the selected scenario
function.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.who.int/data/triple-billion-dashboard" class="external-link">billionaiRe</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>    value <span class="op">=</span> <span class="fl">60</span><span class="op">:</span><span class="fl">80</span>,</span>
<span>    year <span class="op">=</span> <span class="fl">2010</span><span class="op">:</span><span class="fl">2030</span>,</span>
<span>    ind <span class="op">=</span> <span class="st">"pm25"</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"reported"</span>,</span>
<span>    iso3 <span class="op">=</span> <span class="st">"AFG"</span>,</span>
<span>    scenario <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>    source <span class="op">=</span> <span class="cn">NA_character_</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>scenario <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">year</span> <span class="op">&gt;</span> <span class="fl">2021</span> <span class="op">~</span> <span class="st">"historical"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">scenario</span></span>
<span>    <span class="op">)</span>,</span>
<span>    type <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">year</span> <span class="op">&gt;</span> <span class="fl">2021</span> <span class="op">~</span> <span class="st">"projected"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">type</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The choice of scenario function to apply to the <code>df</code> is
done through the <code>scenario_function</code> parameter. Additional
parameters can be passed through the ellipsis (<code>...</code>).</p>
<p>For instance, to halt the rise to the 2010 value by
<code>end_year</code> (2025 by default), we can apply a simple function
to <code>df</code>. This will apply the <code>halt_rise</code> function
to all unique combination of country and indicator. In this case, there
is just one combination:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_scenario.html">add_scenario</a></span><span class="op">(</span></span>
<span>    scenario_function <span class="op">=</span> <span class="st">"halt_rise"</span>,</span>
<span>    baseline_year <span class="op">=</span> <span class="fl">2010</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>To apply the SDG targets, we use the <code>sdg</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_scenario.html">add_scenario</a></span><span class="op">(</span></span>
<span>    scenario_function <span class="op">=</span> <span class="st">"sdg"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>By default, the scenarios start from the last reported or estimated
value in the default scenario. This can be bypassed by setting
<code>start_scenario_last_default</code> to FALSE. The scenario will
then start at <code>start_year</code> (2018 by default):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_scenario.html">add_scenario</a></span><span class="op">(</span></span>
<span>    scenario_function <span class="op">=</span> <span class="st">"sdg"</span>,</span>
<span>    start_scenario_last_default <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-scenarios">Basic scenarios<a class="anchor" aria-label="anchor" href="#basic-scenarios"></a>
</h2>
<p>The basic scenarios are the building blocks of all other scenarios.
They can also be used by themselves on the data. All basic scenarios
functions share have share parameters, but also have their own. See the
individual documentation of each function to see the details.</p>
<ul>
<li>Annual Rate of Change (AROC): <code><a href="../reference/scenario_aroc.html">scenario_aroc()</a></code>
</li>
<li>Fixed targets: <code><a href="../reference/fixed_target.html">scenario_fixed_target()</a></code>,
<code><a href="../reference/fixed_target.html">scenario_fixed_target_col()</a></code>,
<code><a href="../reference/fixed_target.html">scenario_halt_rise()</a></code>
</li>
<li>Percentage change from baseline:
<code><a href="../reference/scenario_percent_baseline.html">scenario_percent_baseline()</a></code>
</li>
<li>Linear change: <code><a href="../reference/linear_change.html">scenario_linear_change()</a></code>,
<code><a href="../reference/linear_change.html">scenario_linear_change_col()</a></code>
</li>
<li>Benchmarking: <code><a href="../reference/scenario_quantile.html">scenario_quantile()</a></code>,
<code><a href="../reference/scenario_best_in_region.html">scenario_best_in_region()</a></code>,
<code><a href="../reference/scenario_top_n_iso3.html">scenario_top_n_iso3()</a></code>
</li>
<li>Compairing scenarios: <code><a href="../reference/scenario_best_of.html">scenario_best_of()</a></code>,
<code><a href="../reference/scenario_bau.html">scenario_bau()</a></code>
</li>
</ul>
<p>See <a href="basic-scenarios.html">Basic Scenarios documentation</a>
for a full description of all availabe basic scenarios.</p>
</div>
<div class="section level2">
<h2 id="target-scenarios">Target scenarios<a class="anchor" aria-label="anchor" href="#target-scenarios"></a>
</h2>
<p>Target scenarios apply targets that form a coherent ensemble, but
that are specific to each indicator. The prime example of this type of
scenario is <code>sdg</code> where each indicator is targeting its SDG
target by 2030.</p>
<p>All SDG scenarios definitions can be found in the <a href="sdg-scenarios.html">SDG scenarios</a> documentation.</p>
<p>The other target scenario available in billionaiRe at the moment is
<code>accelerate_target</code> that removes from acceleration scenarios
any scenario that is not a target. The result is similar to SDG scenario
in spirit but has different results.</p>
<p>By default, the scenario values are trimmed to 2025. This can be
changed with the <code>end_year</code> parameter:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_scenario.html">add_scenario</a></span><span class="op">(</span></span>
<span>    scenario_function <span class="op">=</span> <span class="st">"sdg"</span>,</span>
<span>    end_year <span class="op">=</span> <span class="fl">2030</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="benchmarking-scenarios">Benchmarking scenarios<a class="anchor" aria-label="anchor" href="#benchmarking-scenarios"></a>
</h2>
<p>Benchmarking scenarios are a curated list of four benchmarking
scenarios applied to all indicators, with minor variations:</p>
<ul>
<li>Top 20% AROC globally</li>
<li>Top 20% AROC in WHO regions</li>
<li>Top 20% AROC in World Bank (WB) Income Groups (IC)</li>
</ul>
<p>They allow to compare a country trajectories with their peers.</p>
</div>
<div class="section level2">
<h2 id="mixed-scenarios">Mixed scenarios<a class="anchor" aria-label="anchor" href="#mixed-scenarios"></a>
</h2>
<p>Acceleration scenarios are version of the future that are ambitious
yet achievable by countries. They were created in conjonction with WHO
technical units.</p>
<p>Acceleration scenarios are fully indicator specific. The <a href="acceleration-scenarios.html">Acceleration scenarios
documentation</a> provides a full description of each of them.</p>
</div>
<div class="section level2">
<h2 id="internal-use-scenarios">Internal use scenarios<a class="anchor" aria-label="anchor" href="#internal-use-scenarios"></a>
</h2>
<p>There are three <em>internal use</em> special case scenario:</p>
<ul>
<li>
<code>routine</code>: stores the <code>reported</code> and
<code>estimated</code> data</li>
<li>
<code>reference_infilling</code>: stores WHO technical programs
projected data (either <code>projected</code> or
<code>imputed</code>).</li>
<li>
<code>covid_shock</code>: stores the data that correspond to the
COVID-19 shock.</li>
</ul>
<p>All together those three scenarios are the <em>base scenarios</em>.
They are the spine of other scenarios and act then as a filling when
scenarios do not contain the required data to build a full time
series.</p>
</div>
<div class="section level2">
<h2 id="scenarios-integration-into-data-pipeline">Scenarios integration into data pipeline<a class="anchor" aria-label="anchor" href="#scenarios-integration-into-data-pipeline"></a>
</h2>
<p>The current Triple Billion data pipeline is composed of four main
steps. billionaiRe is dealing only with the calculation step:</p>
<ol style="list-style-type: decimal">
<li>Ingestion: Azure DevOps repo</li>
<li>Projection: Azure DevOps repo</li>
<li>Calculation: <strong>billionaiRe</strong>
</li>
<li>Export: <em>rapporteur</em>
</li>
</ol>
<p>The definition of the <a href="#internal-use-scenarios">Internal use
scenarios</a> scenarios happen in the <code>ingestion</code> and
<code>projection</code> steps, which are outside of the scope of the
billionaiRe package.</p>
<p>Other scenarios are calculated at stage 3 (Calculation), as does the
rest of the billionaiRe calculations. Those scenarios can be calculated
with the <code><a href="../reference/add_scenario.html">add_scenario()</a></code> function.</p>
<p>Within the Triple Billion calculations pipeline, adding the scenarios
values should ideally be the first steps (i.e. before transforming the
data). However, some event-based and trajectory-based scenarios, might
require some level of data recycling before they run. If this is the
case, errors should be produced.</p>
</div>
<div class="section level2">
<h2 id="scenarios-naming-convention">Scenarios naming convention<a class="anchor" aria-label="anchor" href="#scenarios-naming-convention"></a>
</h2>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Snake_case" class="external-link">Lower Snake
case</a> is used</p></li>
<li><p>Short and very descriptive names: use verbs as much as
possible</p></li>
<li><p>Use only commonly understood acronyms and abbreviations</p></li>
<li>
<p><code>event</code> scenarios start with them. E.g. covid,
pre_covid_bau</p>
<ul>
<li>Sub-event scenarios should have a descriptive word rather than
numbering or other undefined markers. <strong>DO</strong>:
covid_never_return. <strong>DON’T</strong>: COVID_1</li>
</ul>
</li>
<li><p><code>routine</code> is reserved for reported/estimated
data</p></li>
<li><p><code>reference_infilling</code> is reserved for
imputed/projected data</p></li>
<li><p><code>default</code> is reserved for the main data present on the
dashboard</p></li>
<li><p><code>acceleration</code> is reserved for acceleration scenarios
/ trajectories</p></li>
<li><p><code>sdg</code> is reserved for sustainable development
goals</p></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Seth Caldwell, Alice Robson, Nelly Biondi, Elliott Messeiller, Muhammad Jarir Kanji.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
