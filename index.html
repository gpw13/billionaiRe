<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Apply methods to calculate Universal Health Coverage,
    Healthier Populations, and Health Emergencies Protection Billions.">
<title>Calculate the WHO Triple Billions • billionaiRe</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Calculate the WHO Triple Billions">
<meta property="og:description" content="Apply methods to calculate Universal Health Coverage,
    Healthier Populations, and Health Emergencies Protection Billions.">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">billionaiRe</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/hep.html">HEP Billion Calculation</a>
    <a class="dropdown-item" href="articles/hpop.html">HPOP Billion calculation</a>
    <a class="dropdown-item" href="articles/scenarios.html">Scenarios</a>
    <a class="dropdown-item" href="articles/uhc.html">UHC Billion calculation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gpw13/billionaiRe/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="billionaire-">billionaiRe 
<a class="anchor" aria-label="anchor" href="#billionaire-"></a>
</h1>
</div>
<!-- badges: start -->
<p>The goal of billionaiRe is to provide an easy interface for using long format data to calculate the World Health Organization’s Triple Billions.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install billionaiRe from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"gpw13/billionaiRe"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>You will need to have already installed the wppdistro package, which is stored in a private repo and only made public upon request. Please contact Vassily Trubetskoy (<a href="mailto:trubetskoyv@who.int" class="email">trubetskoyv@who.int</a>) or Alice Robson (<a href="mailto:robsona@who.int" class="email">robsona@who.int</a>) to request access.</p>
</div>
</div>
<div class="section level1">
<h1 id="calculations">Calculations<a class="anchor" aria-label="anchor" href="#calculations"></a>
</h1>
<p>The package is built around a set of functions that calculate the Billions for the three Billions separately:</p>
<ul>
<li>Healthier Populations (HPOP)</li>
<li>Health Emergencies Protection (HEP)</li>
<li>Universal Health Coverage (UHC)</li>
</ul>
<div class="section level2">
<h2 id="hpop-billion-calculation">HPOP Billion calculation<a class="anchor" aria-label="anchor" href="#hpop-billion-calculation"></a>
</h2>
<p>To calculate the HPOP Billion, there are a series of functions made available through the billionaiRe package:</p>
<ul>
<li>
<code><a href="reference/transform_hpop_data.html">transform_hpop_data()</a></code> to transform raw values into normalized values used within the calculations.</li>
<li>
<code><a href="reference/add_hpop_populations.html">add_hpop_populations()</a></code> to get relevant population groups for each country and indicator.</li>
<li>
<code><a href="reference/calculate_hpop_contributions.html">calculate_hpop_contributions()</a></code> to calculate indicator level changes and contributions to the Billion.</li>
<li>
<code><a href="reference/calculate_hpop_billion.html">calculate_hpop_billion()</a></code> to calculate indicator level changes, country-level Billion, adjusting for double counting, and all contributions.</li>
</ul>
<p>Run in sequence, these can calculate the entire HPOP Billion, or they can be run separately to produce different outputs as required. Details on the inputs of each function are available in their individual documentation, but below you can see the quick and easy Billions calculation done using the sample fake HPOP data provided in the package, <code>hpop_df</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.who.int/data/triple-billion-dashboard" class="external-link">billionaiRe</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">hpop_df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_hpop_data.html">transform_hpop_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_hpop_populations.html">add_hpop_populations</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/calculate_hpop_billion.html">calculate_hpop_billion</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">ind</span>, <span class="st">"hpop_healthier"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 x 9</span></span>
<span><span class="co">#&gt;   iso3   year ind                  value transform_value population contribution</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;                &lt;dbl&gt;           &lt;dbl&gt;      &lt;dbl&gt;        &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 AFG    2023 hpop_healthier_plus     NA              NA   41681232    25608812.</span></span>
<span><span class="co">#&gt; 2 AFG    2023 hpop_healthier_minus    NA              NA   41681232   -35897603.</span></span>
<span><span class="co">#&gt; 3 AFG    2023 hpop_healthier          NA              NA   41681232   -10288791.</span></span>
<span><span class="co">#&gt; 4 AFG    2023 hpop_healthier_plus~    NA              NA   41681232    30125312.</span></span>
<span><span class="co">#&gt; 5 AFG    2023 hpop_healthier_minu~    NA              NA   41681232   -69269569.</span></span>
<span><span class="co">#&gt; 6 AFG    2023 hpop_healthier_dbl_~    NA              NA   41681232   -39144257.</span></span>
<span><span class="co">#&gt; # ... with 2 more variables: contribution_percent &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   contribution_percent_total_pop &lt;dbl&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="uhc-billion-calculation">UHC Billion calculation<a class="anchor" aria-label="anchor" href="#uhc-billion-calculation"></a>
</h2>
<p>To calculate the UHC Billion, there are a series of functions made available through the billionaiRe package:</p>
<ul>
<li>
<code><a href="reference/transform_uhc_data.html">transform_uhc_data()</a></code> to transform raw values into normalized values used within the calculations.</li>
<li>
<code><a href="reference/calculate_uhc_billion.html">calculate_uhc_billion()</a></code> to calculate average service coverage, financial hardship, and the UHC single measure for each country and year in the data frame..</li>
<li>
<code><a href="reference/calculate_uhc_contribution.html">calculate_uhc_contribution()</a></code> to calculate country-level Billion for specified beginning and end year.</li>
</ul>
<p>Run in sequence, these can calculate the entire UHC Billion, or they can be run separately to produce different outputs as required. Details on the inputs of each function are available in their individual documentation, but below you can see the quick and easy Billions calculation done using the the sample fake UHC data provided in the package, <code>uhc_df</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.who.int/data/triple-billion-dashboard" class="external-link">billionaiRe</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">uhc_df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_uhc_data.html">transform_uhc_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/calculate_uhc_billion.html">calculate_uhc_billion</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/calculate_uhc_contribution.html">calculate_uhc_contribution</a></span><span class="op">(</span>end_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ind</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"uhc_sm"</span>, <span class="st">"asc"</span>, <span class="st">"fh"</span><span class="op">)</span>,</span>
<span>                <span class="va">year</span> <span class="op">==</span> <span class="fl">2023</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 x 9</span></span>
<span><span class="co">#&gt;   iso3   year ind    value transform_value type      source         contribution</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;           &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;                 &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 AFG    2023 fh      25.4            25.4 &lt;NA&gt;      &lt;NA&gt;               2963536.</span></span>
<span><span class="co">#&gt; 2 AFG    2023 asc     45.6            45.6 projected WHO DDI calcu~     1607136.</span></span>
<span><span class="co">#&gt; 3 AFG    2023 uhc_sm  34.0            34.0 projected WHO DDI calcu~      -38238.</span></span>
<span><span class="co">#&gt; # ... with 1 more variable: contribution_percent &lt;dbl&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="hep-billion-calculation">HEP Billion calculation<a class="anchor" aria-label="anchor" href="#hep-billion-calculation"></a>
</h2>
<p>To calculate the HEP Billion, there are a series of functions made available through the billionaiRe package:</p>
<ul>
<li>
<code><a href="reference/transform_hep_data.html">transform_hep_data()</a></code> to transform raw values into normalized values used within the calculations. For now, this is primarily calculating the total prevent numerators and denominators for campaign and routine data.</li>
<li>
<code><a href="reference/calculate_hep_components.html">calculate_hep_components()</a></code> to calculate component indicators (Prevent coverages), the HEP index, and levels for all components.</li>
<li>
<code><a href="reference/calculate_hep_billion.html">calculate_hep_billion()</a></code> to calculate the change for the three HEP components (DNR, Prepare, and Prevent), their contribution to the Billion, and overall HEPI change and contribution.</li>
</ul>
<p>Run in sequence, these can calculate the entire HEP Billion, or they can be run separately to produce different outputs as required. Details on the inputs of each function are available in their individual documentation, but below you can see the quick and easy Billions calculation done using the sample fake HEP data provided in the package, <code>hep_df</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.who.int/data/triple-billion-dashboard" class="external-link">billionaiRe</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">hep_df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_hep_data.html">transform_hep_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/calculate_hep_components.html">calculate_hep_components</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/calculate_hep_billion.html">calculate_hep_billion</a></span><span class="op">(</span>end_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ind</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"prevent"</span>,</span>
<span>                           <span class="st">"espar"</span>,</span>
<span>                           <span class="st">"detect_respond"</span>,</span>
<span>                           <span class="st">"hep_idx"</span><span class="op">)</span>,</span>
<span>                <span class="va">year</span> <span class="op">==</span> <span class="fl">2023</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 4 x 10</span></span>
<span><span class="co">#&gt;   iso3   year ind            value type       source transform_value level contribution</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 AFG    2023 espar           51.2 Projection &lt;NA&gt;              51.2     3     4680802.</span></span>
<span><span class="co">#&gt; 2 AFG    2023 detect_respond  91   Projection &lt;NA&gt;              91       5     2084062.</span></span>
<span><span class="co">#&gt; 3 AFG    2023 prevent         NA   Projection WHO D~           100       5           0 </span></span>
<span><span class="co">#&gt; 4 AFG    2023 hep_idx         NA   Projection WHO D~            80.7     4     6764864.</span></span>
<span><span class="co">#&gt; # ... with 1 more variable: contribution_percent &lt;dbl&gt;</span></span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/gpw13/billionaiRe/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing billionaiRe</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Seth Caldwell <br><small class="roles"> Author </small>  </li>
<li>Alice Robson <br><small class="roles"> Author </small>  </li>
<li>Nelly Biondi <br><small class="roles"> Author </small>  </li>
<li>Elliott Messeiller <br><small class="roles"> Author, maintainer </small>  </li>
<li>Muhammad Jarir Kanji <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/gpw13/billionaiRe/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/gpw13/billionaiRe/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/gpw13/billionaiRe" class="external-link"><img src="https://codecov.io/gh/gpw13/billionaiRe/branch/main/graph/badge.svg?token=IT9RI3OOKV" alt="codecov"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Seth Caldwell, Alice Robson, Nelly Biondi, Elliott Messeiller, Muhammad Jarir Kanji.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
