<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Apply methods to calculate Universal Health Coverage,
    Healthier Populations, and Health Emergencies Protection Billions.">
<title>Calculate the WHO Triple Billions • billionaiRe</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Calculate the WHO Triple Billions">
<meta property="og:description" content="Apply methods to calculate Universal Health Coverage,
    Healthier Populations, and Health Emergencies Protection Billions.">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">billionaiRe</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gpw13/billionaiRe/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="billionaire-">billionaiRe 
<a class="anchor" aria-label="anchor" href="#billionaire-"></a>
</h1>
</div>
<!-- badges: start -->

<p>The goal of billionaiRe is to provide an easy interface for using long format data to calculate the World Health Organization’s Triple Billions.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install billionaiRe from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"gpw13/billionaiRe"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>You will need to have already installed the wppdistro and whdh packages, which is stored in a private repo and only made public upon request from valid WHO users. Please contact <a href="mailto:messeillere@who.int" class="email">messeillere@who.int</a> to request access.</p>
</div>
</div>
<div class="section level1">
<h1 id="calculations">Calculations<a class="anchor" aria-label="anchor" href="#calculations"></a>
</h1>
<p>The package is built around a set of functions that calculate the Billions for the three Billions separately:</p>
<ul>
<li>Healthier Populations (HPOP)</li>
<li>Health Emergencies Protection (HEP)</li>
<li>Universal Health Coverage (UHC)</li>
</ul>
<div class="section level2">
<h2 id="hpop-billion-calculation">HPOP Billion calculation<a class="anchor" aria-label="anchor" href="#hpop-billion-calculation"></a>
</h2>
<p>To calculate the HPOP Billion, there are a series of functions made available through the billionaiRe package:</p>
<ul>
<li>
<code><a href="reference/transform_hpop_data.html">transform_hpop_data()</a></code> to transform raw values into normalized values used within the calculations.</li>
<li>
<code><a href="reference/add_hpop_populations.html">add_hpop_populations()</a></code> to get relevant population groups for each country and indicator.</li>
<li>
<code><a href="reference/calculate_hpop_contributions.html">calculate_hpop_contributions()</a></code> to calculate indicator level changes and contributions to the Billion.</li>
<li>
<code><a href="reference/calculate_hpop_billion.html">calculate_hpop_billion()</a></code> to calculate indicator level changes, country-level Billion, adjusting for double counting, and all contributions.</li>
</ul>
<p>Run in sequence, these can calculate the entire HPOP Billion, or they can be run separately to produce different outputs as required. Details on the inputs of each function are available in their individual documentation, but below you can see the quick and easy Billions calculation done using the sample fake HPOP data provided in the package, <code>hpop_df</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.who.int/data/triple-billion-dashboard" class="external-link">billionaiRe</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">hpop_df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_hpop_data.html">transform_hpop_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_hpop_populations.html">add_hpop_populations</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/calculate_hpop_billion.html">calculate_hpop_billion</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">ind</span>, <span class="st">"hpop_healthier"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 10</span></span>
<span><span class="co">#&gt;   iso3   year ind            value type  trans…¹ popul…² contr…³ contr…⁴ contr…⁵</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 AFG    2023 hpop_healthie…    NA &lt;NA&gt;       NA  4.45e7  2.72e7    61.2      NA</span></span>
<span><span class="co">#&gt; 2 AFG    2023 hpop_healthie…    NA &lt;NA&gt;       NA  4.45e7 -3.84e7   -86.3      NA</span></span>
<span><span class="co">#&gt; 3 AFG    2023 hpop_healthier    NA &lt;NA&gt;       NA  4.45e7 -1.12e7   -25.1      NA</span></span>
<span><span class="co">#&gt; 4 AFG    2023 hpop_healthie…    NA &lt;NA&gt;       NA  4.45e7  3.20e7    71.9      NA</span></span>
<span><span class="co">#&gt; 5 AFG    2023 hpop_healthie…    NA &lt;NA&gt;       NA  4.45e7 -7.46e7  -168.       NA</span></span>
<span><span class="co">#&gt; 6 AFG    2023 hpop_healthie…    NA &lt;NA&gt;       NA  4.45e7 -4.26e7   -95.7      NA</span></span>
<span><span class="co">#&gt; # … with abbreviated variable names ¹​transform_value, ²​population,</span></span>
<span><span class="co">#&gt; #   ³​contribution, ⁴​contribution_percent, ⁵​contribution_percent_total_pop</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="uhc-billion-calculation">UHC Billion calculation<a class="anchor" aria-label="anchor" href="#uhc-billion-calculation"></a>
</h2>
<p>To calculate the UHC Billion, there are a series of functions made available through the billionaiRe package:</p>
<ul>
<li>
<code><a href="reference/transform_uhc_data.html">transform_uhc_data()</a></code> to transform raw values into normalized values used within the calculations.</li>
<li>
<code><a href="reference/calculate_uhc_billion.html">calculate_uhc_billion()</a></code> to calculate average service coverage, financial hardship, and the UHC single measure for each country and year in the data frame..</li>
<li>
<code><a href="reference/calculate_uhc_contribution.html">calculate_uhc_contribution()</a></code> to calculate country-level Billion for specified beginning and end year.</li>
</ul>
<p>Run in sequence, these can calculate the entire UHC Billion, or they can be run separately to produce different outputs as required. Details on the inputs of each function are available in their individual documentation, but below you can see the quick and easy Billions calculation done using the the sample fake UHC data provided in the package, <code>uhc_df</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.who.int/data/triple-billion-dashboard" class="external-link">billionaiRe</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">uhc_df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_uhc_data.html">transform_uhc_data</a></span><span class="op">(</span>end_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/calculate_uhc_billion.html">calculate_uhc_billion</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/calculate_uhc_contribution.html">calculate_uhc_contribution</a></span><span class="op">(</span>end_year <span class="op">=</span> <span class="fl">2023</span>, pop_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ind</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"uhc_sm"</span>, <span class="st">"asc"</span>, <span class="st">"fh"</span><span class="op">)</span>,</span>
<span>                <span class="va">year</span> <span class="op">==</span> <span class="fl">2023</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 9</span></span>
<span><span class="co">#&gt;   iso3   year ind    value type      transform_value source      contr…¹ contr…²</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 AFG    2023 fh      25.4 Projected            74.6 &lt;NA&gt;        -3.00e6  -7.11 </span></span>
<span><span class="co">#&gt; 2 AFG    2023 asc     45.3 projected            45.3 WHO DDI ca…  1.72e6   4.06 </span></span>
<span><span class="co">#&gt; 3 AFG    2023 uhc_sm  33.8 projected            33.8 WHO DDI ca…  4.41e4   0.104</span></span>
<span><span class="co">#&gt; # … with abbreviated variable names ¹​contribution, ²​contribution_percent</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="hep-billion-calculation">HEP Billion calculation<a class="anchor" aria-label="anchor" href="#hep-billion-calculation"></a>
</h2>
<p>To calculate the HEP Billion, there are a series of functions made available through the billionaiRe package:</p>
<ul>
<li>
<code><a href="reference/transform_hep_data.html">transform_hep_data()</a></code> to transform raw values into normalized values used within the calculations. For now, this is primarily calculating the total prevent numerators and denominators for campaign and routine data.</li>
<li>
<code><a href="reference/calculate_hep_components.html">calculate_hep_components()</a></code> to calculate component indicators (Prevent coverages), the HEP index, and levels for all components.</li>
<li>
<code><a href="reference/calculate_hep_billion.html">calculate_hep_billion()</a></code> to calculate the change for the three HEP components (DNR, Prepare, and Prevent), their contribution to the Billion, and overall HEPI change and contribution.</li>
</ul>
<p>Run in sequence, these can calculate the entire HEP Billion, or they can be run separately to produce different outputs as required. Details on the inputs of each function are available in their individual documentation, but below you can see the quick and easy Billions calculation done using the sample fake HEP data provided in the package, <code>hep_df</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.who.int/data/triple-billion-dashboard" class="external-link">billionaiRe</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">hep_df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_hep_data.html">transform_hep_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/calculate_hep_components.html">calculate_hep_components</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/calculate_hep_billion.html">calculate_hep_billion</a></span><span class="op">(</span>end_year <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ind</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"prevent"</span>,</span>
<span>                           <span class="st">"espar"</span>,</span>
<span>                           <span class="st">"detect_respond"</span>,</span>
<span>                           <span class="st">"hep_idx"</span><span class="op">)</span>,</span>
<span>                <span class="va">year</span> <span class="op">==</span> <span class="fl">2023</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 4 × 12</span></span>
<span><span class="co">#&gt;   iso3   year ind       value type  source trans…¹ use_d…² use_c…³ level contr…⁴</span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;lgl&gt;   &lt;lgl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 AFG    2023 espar      51.2 Proj… &lt;NA&gt;      51.2 NA      NA          3  5.00e6</span></span>
<span><span class="co">#&gt; 2 AFG    2023 detect_r…  91   Proj… &lt;NA&gt;      91   NA      NA          5  2.23e6</span></span>
<span><span class="co">#&gt; 3 AFG    2023 prevent    NA   proj… Unite…   100   NA      NA          5  0     </span></span>
<span><span class="co">#&gt; 4 AFG    2023 hep_idx    NA   proj… WHO D…    80.7 NA      NA          4  7.22e6</span></span>
<span><span class="co">#&gt; # … with 1 more variable: contribution_percent &lt;dbl&gt;, and abbreviated variable</span></span>
<span><span class="co">#&gt; #   names ¹​transform_value, ²​use_dash, ³​use_calc, ⁴​contribution</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scenarios">Scenarios<a class="anchor" aria-label="anchor" href="#scenarios"></a>
</h2>
<p>In the Triple Billions and the billionaiRe package context, scenarios are understood as alternative, plausible, description of how the future may develop based on a set of defined assumptions.</p>
<p>Scenarios must:</p>
<ol style="list-style-type: decimal">
<li>Be <a href="https://r4ds.had.co.nz/tidy-data.html" class="external-link">tidy</a>: each row is a unique combination of iso3 country-code, year, indicator, and scenario (if relevant).</li>
<li>Contain <strong>all</strong> and <strong>only</strong> the data that is strictly needed for calculations with billionaiRe</li>
</ol>
<p>Four main sets of scenarios can be identified, from the most basic to the more complex:</p>
<ol style="list-style-type: decimal">
<li>Basic scenarios: Those scenarios are the building blocks of the other scenarios, but they can also be called on their own. They can reach a fixed target at a specified year (<code><a href="reference/fixed_target.html">scenario_fixed_target()</a></code>), follow a specific rate of change (<code><a href="reference/scenario_aroc.html">scenario_aroc()</a></code>), etc. See <a href="./vignettes/basic-scenarios.html">Basic scenario</a> for more details.</li>
<li>Target scenarios: Target-based scenarios apply indicator-specific targets or trajectories to be reached by a specific date (e.g. Sustainable Development Goal (SDG) targets (called <code>sdg</code> scenarios)).</li>
<li>Benchmarking scenarios: Benchmarking scenarios compare performance of countries given various grouping and aim at a specified sub-set of best performing countries.</li>
<li>Mixed scenarios: Developped with indicator-level subject matter knowledge to pick realistic improvement scenarios (e.g. <code>acceleration</code> scenarios)</li>
</ol>
<p>If billionaiRe require data that is missing in the scenario, they will be recycled from other scenarios (see <a href="./vignettes/data-recycling.html">Data recycling</a>).</p>
<p>See <a href="./vignettes/basic-scenarios.html">Scenarios vignette</a> for more details.</p>
<div class="section level3">
<h3 id="quick-start-on-billionaire-scenarios">Quick start on billionaiRe scenarios<a class="anchor" aria-label="anchor" href="#quick-start-on-billionaire-scenarios"></a>
</h3>
<p><code><a href="reference/add_scenario.html">add_scenario()</a></code> is the entry point function to all other scenario functions. It essentially allow to pass a typical billionaiRe data frame (<code>df</code>) and apply the selected scenario function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.who.int/data/triple-billion-dashboard" class="external-link">billionaiRe</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>    value <span class="op">=</span> <span class="fl">60</span><span class="op">:</span><span class="fl">80</span>,</span>
<span>    year <span class="op">=</span> <span class="fl">2010</span><span class="op">:</span><span class="fl">2030</span>,</span>
<span>    ind <span class="op">=</span> <span class="st">"pm25"</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"reported"</span>,</span>
<span>    iso3 <span class="op">=</span> <span class="st">"AFG"</span>,</span>
<span>    scenario <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>    source <span class="op">=</span> <span class="cn">NA_character_</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>scenario <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">year</span> <span class="op">&gt;</span> <span class="fl">2021</span> <span class="op">~</span> <span class="st">"historical"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">scenario</span></span>
<span>    <span class="op">)</span>,</span>
<span>    type <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">year</span> <span class="op">&gt;</span> <span class="fl">2021</span> <span class="op">~</span> <span class="st">"projected"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">type</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The choice of scenario function to apply to the <code>df</code> is done through the <code>scenario_function</code> parameter. Additional parameters can be passed through the ellipsis (<code>...</code>).</p>
<p>For instance, to halt the rise to the 2010 value by <code>end_year</code> (2025 by default), we can apply a simple function to <code>df</code>. This will apply the <code>halt_rise</code> function to all unique combination of country and indicator. In this case, there is just one combination:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_scenario.html">add_scenario</a></span><span class="op">(</span></span>
<span>    scenario_function <span class="op">=</span> <span class="st">"halt_rise"</span>,</span>
<span>    baseline_year <span class="op">=</span> <span class="fl">2010</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>To apply the SDG targets, we use the <code>sdg</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_scenario.html">add_scenario</a></span><span class="op">(</span></span>
<span>    scenario_function <span class="op">=</span> <span class="st">"sdg"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>By default, the scenarios start from the last reported or estimated value in the default scenario. This can be bypassed by setting <code>start_scenario_last_default</code> to FALSE. The scenario will then start at <code>start_year</code> (2018 by default):</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_scenario.html">add_scenario</a></span><span class="op">(</span></span>
<span>    scenario_function <span class="op">=</span> <span class="st">"sdg"</span>,</span>
<span>    start_scenario_last_default <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/gpw13/billionaiRe/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing billionaiRe</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Seth Caldwell <br><small class="roles"> Author </small>  </li>
<li>Alice Robson <br><small class="roles"> Author </small>  </li>
<li>Nelly Biondi <br><small class="roles"> Author </small>  </li>
<li>Elliott Messeiller <br><small class="roles"> Author, maintainer </small>  </li>
<li>Muhammad Jarir Kanji <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/gpw13/billionaiRe/actions" class="external-link"><img src="https://github.com/gpw13/billionaiRe/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Seth Caldwell, Alice Robson, Nelly Biondi, Elliott Messeiller, Muhammad Jarir Kanji.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
