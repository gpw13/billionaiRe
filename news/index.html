<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • billionaiRe</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">billionaiRe</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/hep.html">HEP Billion Calculation</a>
    <a class="dropdown-item" href="../articles/hpop.html">HPOP Billion calculation</a>
    <a class="dropdown-item" href="../articles/scenarios.html">Scenarios</a>
    <a class="dropdown-item" href="../articles/uhc.html">UHC Billion calculation</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gpw13/billionaiRe/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/gpw13/billionaiRe/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.10" id="billionaire-0610">billionaiRe 0.6.10<a class="anchor" aria-label="anchor" href="#billionaire-0610"></a></h2>
<ul><li>
<code>save_wrangled_output</code> now saves files with all columns capitalised and <code>load_billion_data_whdh</code> changes all column names to lower case after downloading data from WHDH to simplify WHDH =&gt; xMart pipelines.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.9" id="billionaire-069">billionaiRe 0.6.9<a class="anchor" aria-label="anchor" href="#billionaire-069"></a></h2>
<ul><li>Add <code>scenario_return_previous_trajectory</code> to return to <code>pre_covid_trajectory</code> after <code>covid_shock</code>
</li>
<li>Add <code>impute_covid_shock</code> to impute a COVID-19 shock easily</li>
<li>Add <code>aroc_type</code> and related parameters to <code>scenario_dip_recover</code> to add alternatives on how the AROC is calculated. This is chiefly to allow to use an average AROC rather that just with latest value.</li>
<li>Corrects bugs</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.8" id="billionaire-068">billionaiRe 0.6.8<a class="anchor" aria-label="anchor" href="#billionaire-068"></a></h2>
<ul><li>Adds support of <code>covid_shock</code>
</li>
<li>
<code><a href="../reference/make_default_scenario.html">make_default_scenario()</a></code> now doesn’t require to have <code>default_scenario</code> in <code>scenario</code> column.</li>
<li>Updated save_wrangled_output to explicitly enforce expectations about data frames before writing to disk.</li>
<li>New assertions: <code><a href="../reference/assert_col_types.html">assert_col_types()</a></code>, <code><a href="../reference/assert_has_names.html">assert_has_names()</a></code>, <code><a href="../reference/assert_distinct_rows.html">assert_distinct_rows()</a></code>, and <code><a href="../reference/assert_col_paired_with.html">assert_col_paired_with()</a></code>.</li>
<li>Updated <code>wrangle_data.R</code> functions to explicitly cast columns to expected types.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.7" id="billionaire-067">billionaiRe 0.6.7<a class="anchor" aria-label="anchor" href="#billionaire-067"></a></h2>
<ul><li>Adds <code>upload_billion_data</code> function for easy uploads to the 3B data lake in the World Health Data Hub (WHDH).</li>
<li>Adds <code>assert_timestamp</code> and <code>assert_class</code> utilities for checks.</li>
<li>Removed <code>testit</code> dependencies.</li>
<li>Aligned <code>save_wrangled_output</code> and <code>upload_billion_data</code>: both functions now return the modified data frame after writing to disk/upload.</li>
<li>Updated docs for <code>xmart_cols</code> and <code>save_wrangled_output</code>
</li>
<li>
<code>save_wrangled_output</code> now accepts <code>data_type</code> and <code>na_rm</code> arguments</li>
<li>Default compression for <code>save_wrangled_output</code> changed to “gzip”</li>
<li>Added more assertions to <code>save_wrangled_output</code> and the function now raises an error if the expected columns aren’t available (previously raised a warning and returned the input data frame instead).</li>
<li>Bug fix: <code>upload_billion_data</code> now returns a data frame (was previously returning NULL)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.6" id="billionaire-066">billionaiRe 0.6.6<a class="anchor" aria-label="anchor" href="#billionaire-066"></a></h2>
<ul><li>Updates to <code>load_billion_data</code> functions incorporating the <code><a href="https://rdrr.io/pkg/whdh/man/download_data_asset.html" class="external-link">whdh::download_data_asset</a></code> function and the use of a <code>version</code> argument to replace the <code>date_filter</code> placeholder.</li>
<li>
<code>load_billion_data</code> now has an <code>experiment</code> argument, which replaces <code>sandbox</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.5" id="billionaire-065">billionaiRe 0.6.5<a class="anchor" aria-label="anchor" href="#billionaire-065"></a></h2>
<ul><li>Replace names of scenarios with more informative names:
<ul><li>
<code>none</code> becomes <code>routine</code>
</li>
<li>
<code>tp</code> becomes <code>reference_infilling</code>
</li>
</ul></li>
<li>add scenario and scenario_details to the wrangled columns in wrangling functions and xmart_cols as they will be expected to be present from now on.</li>
<li>Adding COVID-19 scenarios.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.4" id="billionaire-064">billionaiRe 0.6.4<a class="anchor" aria-label="anchor" href="#billionaire-064"></a></h2>
<ul><li>Adding Sustainable Development Goals acceleration scenarios.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.3" id="billionaire-063">billionaiRe 0.6.3<a class="anchor" aria-label="anchor" href="#billionaire-063"></a></h2>
<ul><li>Corrected problems with <code>fh</code> where the indicator was not transformed correctly. See [issue <a href="https://github.com/gpw13/billionaiRe/issues/35" class="external-link">#35</a>]{<a href="https://github.com/gpw13/billionaiRe/issues/35" class="external-link uri">https://github.com/gpw13/billionaiRe/issues/35</a>} for more details.</li>
<li>Updated testing data frames accordingly.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.2" id="billionaire-062">billionaiRe 0.6.2<a class="anchor" aria-label="anchor" href="#billionaire-062"></a></h2>
<ul><li>Add scenario functions to billionaiRe. Those allow to calculate different scenarios based either in the application of one scenario to all indicators or through special-case scenarios where calculations might differ for all indicators. See the vignette(“scenario”, “billionaiRe”)</li>
<li>Bring improvements to data_recycling</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.1" id="billionaire-061">billionaiRe 0.6.1<a class="anchor" aria-label="anchor" href="#billionaire-061"></a></h2>
<ul><li>Add recycle_data functions to efficiently recycle data. See vignette(“scenarios”, “billionaiRe”) for an overview of the functionality and logic behind data recycling.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="billionaire-060">billionaiRe 0.6.0<a class="anchor" aria-label="anchor" href="#billionaire-060"></a></h2>
<p>Various updates to facilitate migration of the Triple Billion data pipeline into the WHDH * Updated <code>load_billion_data</code> to now pull data from the WHDH data lake by default and optionally set xMart as the <code>data_source</code>. Using xMart currently redirects the user to the legacy version of <code>load_billion_data</code>, while the xMart functionality is built. * Added <code>get_whdh_path</code> for easy generation of download/upload paths for the WHDH data lake * Updated <code>save_wrangled_output</code> to work with parquet format. * Added <code>save_gho_backup_to_whdh</code>, making it easier to backup snapshots of GHO data to the WHDH data lake. * Updated <code>billion_ind_codes</code> with a toggle for subindicators (like <code>water_rural</code>, <code>water_urban</code> and the eSpar categories and sub-categories). * Added <code>get_ind_billion</code> for determining which billion a given indicato belongs to. * Updated <code>xmart_cols</code> to return different sets of columns based for different types of data. * Added new assertions: <code>assert_type</code>, <code>assert_fileext</code>, <code>assert_unique_vector</code>, <code>assert_length</code>, <code>assert_min_length</code>, <code>assert_same_length</code>, <code>assert_equals</code>, and <code>assert_x_in_y</code>. * Updated <code>assert_arg_exists</code> to have custom error messages. * Rearranged <code>utils_asserts.R</code> to categorise the different assertions.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.3" id="billionaire-053">billionaiRe 0.5.3<a class="anchor" aria-label="anchor" href="#billionaire-053"></a></h2>
<ul><li>Export functions introduced in version 0.5.0 were moved the code to a new package: <a href="https://github.com/gpw13/rapporteur" class="external-link">rapporteur</a>. This reduces the size of the billionaiRe package and maintain a better logic in the package environment.</li>
<li>Introduce basic testing (input-output) of the package.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.2" id="billionaire-052">billionaiRe 0.5.2<a class="anchor" aria-label="anchor" href="#billionaire-052"></a></h2>
<ul><li>Added further definitions to <code>indicator_df.xlsx</code>
</li>
<li>Renamed column <code>analysis_code</code> by <code>ind</code> of <code>indicator_df.xlsx</code>.</li>
<li>Removed column <code>ind</code> of <code>indicator_df.xlsx</code>.</li>
<li>Modified code to use <code>ind</code> instead of <code>analysis_code</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="billionaire-051">billionaiRe 0.5.1<a class="anchor" aria-label="anchor" href="#billionaire-051"></a></h2>
<ul><li>Combined <code>indicator_df.xlsx</code> and <code>indicator_order.xlsx</code> into one file.</li>
<li>Updated dashboard_id to better align with current dashboard backend.</li>
<li>Changes to DESCRIPTION reflecting <code>wppdistro</code> transfer to WorldHealthOrganization GitHub org.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="billionaire-050">billionaiRe 0.5.0<a class="anchor" aria-label="anchor" href="#billionaire-050"></a></h2>
<ul><li>Added <code>export_all_countries_summaries_xls</code> to export all country summary Excel files for all billions or a specific billion.</li>
<li>Added <code>export_country_summary_xls</code> to export one country summary Excel file for all billions or a specific billion.</li>
<li>Added support functions for the two preceding functions.</li>
<li>Modified <code>indicator_df</code>, <code>indicator_df.xlsx</code>, and <code>indicator_df.rda</code> to include additional information about indicators definition, names, etc.</li>
<li>Added <code>indicator_order.xlsx</code> to be joined with <code>indicator_df</code>.</li>
<li>Added <code>affected_pathogens</code>, <code>affected_pathogens.xlsx</code>, and <code>affected_pathogens.rda</code> to indicate by which pathogens countries are affected.</li>
<li>Added <code>inst/extdata/country_summary_template.xlsx</code> to store the Excel template for country profiles.</li>
<li>Modified all default values to 2025 instead of 2023.</li>
<li>Added <code>pre-commit</code> hooks to style and ensure consistency in code on commit. See <a href="https://github.com/lorenzwalthert/precommit" class="external-link">pre-commit repository</a> for more information.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.4" id="billionaire-044">billionaiRe 0.4.4<a class="anchor" aria-label="anchor" href="#billionaire-044"></a></h2>
<ul><li>Added <code>calculate_contribution_sums</code> with the ability to calculate regional or global sums for HEP, HPOP, or UHC billions for a given year.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.3" id="billionaire-043">billionaiRe 0.4.3<a class="anchor" aria-label="anchor" href="#billionaire-043"></a></h2>
<ul><li>Added <code>wrangled_rural_urban_gho_data()</code> with functionality to supplant <code><a href="../reference/wrangle_gho_data.html">wrangle_gho_data()</a></code> for indicators where the data has an additional RESIDENCEAREATYPE dimension with possible values of <code>TOTL</code>, <code>URB</code> and <code>RUR</code>.</li>
<li>Added <code><a href="../reference/xmart_cols.html">xmart_cols()</a></code>, <code><a href="../reference/has_xmart_cols.html">has_xmart_cols()</a></code>, <code><a href="../reference/save_wrangled_output.html">save_wrangled_output()</a></code> utility functions for easier wrangling of data updates.</li>
<li>Full Billions data table added to <code><a href="../reference/load_billion_data.html">load_billion_data()</a></code>, allowing user to directly download latest Billions data and resultant calculations.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.2" id="billionaire-042">billionaiRe 0.4.2<a class="anchor" aria-label="anchor" href="#billionaire-042"></a></h2>
<ul><li>Updated <code>indicator_df.xlsx</code> and <code>indicator_df.rda</code> with the GHO code for polio_routine(WHS4_544).</li>
<li>All Billions calculations now return <code>contribution_percent</code> as well as <code>contribution</code> values, for use in the dashboard and other presentations.</li>
<li>HPOP Billion calculation returns total Billion without double counting correction, as well as standard.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="billionaire-041">billionaiRe 0.4.1<a class="anchor" aria-label="anchor" href="#billionaire-041"></a></h2>
<ul><li>Updated <code>wrangle_who_data</code> function with additional assertions and warnings</li>
<li>Updated <code>indicator_df.xlsx</code> and <code>indicator_df.rda</code> with the GHO code for measles_routine (WHS8_110)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="billionaire-040">billionaiRe 0.4.0<a class="anchor" aria-label="anchor" href="#billionaire-040"></a></h2>
<ul><li>Updated all three Billions functions to produce data in long format for immediate upload to xMart.</li>
<li>Developed all three Billions to be calculated for various scenarios, defined in long format through a <code>scenario</code> column or in wide format by having multiple <code>value</code> columns.</li>
<li>Expanded HEP Billion to allow for the use of ebola, COVID, and measles campaign data within the Prevent indicator.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="billionaire-030">billionaiRe 0.3.0<a class="anchor" aria-label="anchor" href="#billionaire-030"></a></h2>
<ul><li>Updated data loading functions so that all 3 xMart databases are available: unprojected data, projected data, and final input data for the Billions.</li>
<li>Added in <code><a href="../reference/untransform_hpop_data.html">untransform_hpop_data()</a></code> and <code><a href="../reference/untransform_uhc_data.html">untransform_uhc_data()</a></code> so that transformed data could be converted back into the original domain of the raw data.</li>
<li>Allow multiple columns to be transformed or untransformed at once using the <code>transform_...</code> and <code>untransform_...</code> functions for UHC and HPOP Billions.</li>
<li>Clear error messages added if there are non-distinct rows in <code>df</code> for <code>ind</code>, <code>iso3</code>, and <code>year</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="billionaire-021">billionaiRe 0.2.1<a class="anchor" aria-label="anchor" href="#billionaire-021"></a></h2>
<ul><li>Changed <code><a href="../reference/transform_glucose.html">transform_glucose()</a></code> to have a domain of 5.1 to 7.4, previously one of 5.1 to 7.4.</li>
<li>Fixed pop_links to ensure that IPV double counting correction was correct</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="billionaire-020">billionaiRe 0.2.0<a class="anchor" aria-label="anchor" href="#billionaire-020"></a></h2>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
<li>Implemented HEP Billions into pipeline.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="billionaire-010">billionaiRe 0.1.0<a class="anchor" aria-label="anchor" href="#billionaire-010"></a></h2>
<ul><li>Initial release of package. UHC and HPOP Billions available for calculation through the billionaiRe API.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Seth Caldwell, Alice Robson, Nelly Biondi, Elliott Messeiller, Muhammad Jarir Kanji.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

